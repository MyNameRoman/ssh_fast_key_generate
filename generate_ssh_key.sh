#!/bin/bash

# Скрипт для быстрой генерации SSH-ключей

# Спросить у пользователя имя файла ключа
read -p "Введите имя файла для нового SSH-ключа (по умолчанию: id_rsa): " key_name

# Если имя файла не указано, использовать id_rsa по умолчанию
if [ -z "$key_name" ]; then
  key_name="id_rsa"
fi

# Спросить комментарий для ключа
read -p "Введите комментарий для ключа (например, email): " key_comment

# Создать папку .ssh, если она не существует
mkdir -p ~/.ssh

# Генерация SSH-ключа
ssh-keygen -t rsa -b 4096 -C "$key_comment" -f ~/.ssh/"$key_name"

# Задать правильные права доступа для ключей
chmod 600 ~/.ssh/"$key_name"
chmod 644 ~/.ssh/"$key_name".pub

# Сообщить о завершении
echo "SSH-ключи успешно созданы!"
